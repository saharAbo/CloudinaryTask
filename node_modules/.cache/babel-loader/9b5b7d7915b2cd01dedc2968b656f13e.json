{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AA\\\\Desktop\\\\NewOne\\\\src\\\\components\\\\TageContainer.jsx\",\n    _s = $RefreshSig$();\n\nimport useLocalStorage from \"@rehooks/local-storage\";\nimport React, { useState } from \"react\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport SaveIcon from \"@mui/icons-material/Save\";\nimport IconButton from \"@mui/material/IconButton\";\nimport LocalOfferIcon from \"@mui/icons-material/LocalOffer\";\nimport { ListItemIcon, TextField } from \"@mui/material\";\nimport { get_colors, removeTag, updateTag } from \"../db/tags\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst TagsContainer = () => {\n  _s();\n\n  var _tags;\n\n  let [tags] = useLocalStorage(\"Tags\");\n  let colors = JSON.parse(get_colors());\n  if (typeof tags == \"string\") tags = JSON.parse(tags);\n\n  const convertArrayToObject = (arr, value) => {\n    const obj = {};\n    arr === null || arr === void 0 ? void 0 : arr.forEach(t => {\n      obj[t] = value || t;\n    });\n    return obj;\n  };\n\n  const [edit, setEdit] = useState(convertArrayToObject(tags, false));\n  const [newTags, setNewTags] = useState(convertArrayToObject(tags || []));\n  console.log(newTags);\n\n  const updateNewTags = (oldTag, newTag) => {\n    setNewTags(cur => {\n      return { ...cur,\n        [oldTag]: newTag\n      };\n    });\n  };\n\n  const change_tag_name = t => {\n    if (newTags[t]) updateTag(t, newTags[t]);\n    setEdit(cur => ({ ...cur,\n      [t]: false\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(List, {\n      children: (_tags = tags) === null || _tags === void 0 ? void 0 : _tags.map((tag, idx) => /*#__PURE__*/_jsxDEV(ListItem, {\n        style: {\n          background: \"#\" + colors[idx]\n        },\n        secondaryAction: !edit[tag] ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"end\",\n            \"aria-label\": \"edit\",\n            onClick: () => setEdit(curr => ({ ...curr,\n              [tag]: true\n            })),\n            children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"end\",\n            \"aria-label\": \"delete\",\n            onClick: () => removeTag(tag),\n            children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(IconButton, {\n          edge: \"end\",\n          \"aria-label\": \"save\",\n          onClick: () => change_tag_name(tag),\n          children: /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this),\n        children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n          children: /*#__PURE__*/_jsxDEV(LocalOfferIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), !edit[tag] && /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: tag\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 28\n        }, this), edit[tag] && /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Tag\",\n          variant: \"standard\",\n          value: newTags[tag],\n          defaultValue: tag,\n          onChange: e => updateNewTags(tag, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(TagsContainer, \"BTc0Se4IF6u3aTEy0/P49+pjGTQ=\", false, function () {\n  return [useLocalStorage];\n});\n\n_c = TagsContainer;\nexport default TagsContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"TagsContainer\");","map":{"version":3,"names":["useLocalStorage","React","useState","List","ListItem","ListItemText","DeleteIcon","EditIcon","SaveIcon","IconButton","LocalOfferIcon","ListItemIcon","TextField","get_colors","removeTag","updateTag","TagsContainer","tags","colors","JSON","parse","convertArrayToObject","arr","value","obj","forEach","t","edit","setEdit","newTags","setNewTags","console","log","updateNewTags","oldTag","newTag","cur","change_tag_name","map","tag","idx","background","curr","e","target"],"sources":["C:/Users/AA/Desktop/NewOne/src/components/TageContainer.jsx"],"sourcesContent":["import useLocalStorage from \"@rehooks/local-storage\";\nimport React, { useState } from \"react\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport SaveIcon from \"@mui/icons-material/Save\";\nimport IconButton from \"@mui/material/IconButton\";\nimport LocalOfferIcon from \"@mui/icons-material/LocalOffer\";\nimport { ListItemIcon, TextField } from \"@mui/material\";\nimport { get_colors, removeTag, updateTag } from \"../db/tags\";\n\nconst TagsContainer = () => {\n  let [tags] = useLocalStorage(\"Tags\");\n  let colors = JSON.parse(get_colors());\n  if (typeof tags == \"string\") tags = JSON.parse(tags);\n\n  const convertArrayToObject = (arr, value) => {\n    const obj = {};\n    arr?.forEach((t) => {\n      obj[t] = value || t;\n    });\n    return obj;\n  };\n\n  const [edit, setEdit] = useState(convertArrayToObject(tags, false));\n  const [newTags, setNewTags] = useState(convertArrayToObject(tags || []));\n  console.log(newTags);\n  const updateNewTags = (oldTag, newTag) => {\n    setNewTags((cur) => {\n      return { ...cur, [oldTag]: newTag };\n    });\n  };\n  const change_tag_name = (t) => {\n    if (newTags[t]) updateTag(t, newTags[t]);\n    setEdit((cur) => ({ ...cur, [t]: false }));\n  };\n  return (\n    <>\n      <List>\n        {tags?.map((tag, idx) => (\n          <ListItem\n            style={{ background: \"#\" + colors[idx] }}\n            secondaryAction={\n              !edit[tag] ? (\n                <React.Fragment>\n                  <IconButton\n                    edge=\"end\"\n                    aria-label=\"edit\"\n                    onClick={() =>\n                      setEdit((curr) => ({ ...curr, [tag]: true }))\n                    }\n                  >\n                    <EditIcon />\n                  </IconButton>\n                  <IconButton\n                    edge=\"end\"\n                    aria-label=\"delete\"\n                    onClick={() => removeTag(tag)}\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </React.Fragment>\n              ) : (\n                <IconButton\n                  edge=\"end\"\n                  aria-label=\"save\"\n                  onClick={() => change_tag_name(tag)}\n                >\n                  <SaveIcon />\n                </IconButton>\n              )\n            }\n          >\n            <ListItemIcon>\n              <LocalOfferIcon />\n            </ListItemIcon>\n            {!edit[tag] && <ListItemText primary={tag} />}\n            {edit[tag] && (\n              <TextField\n                label=\"Tag\"\n                variant=\"standard\"\n                value={newTags[tag]}\n                defaultValue={tag}\n                onChange={(e) => updateNewTags(tag, e.target.value)}\n              />\n            )}\n          </ListItem>\n        ))}\n      </List>\n    </>\n  );\n};\n\nexport default TagsContainer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}